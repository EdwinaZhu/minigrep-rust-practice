# minigrep

一个用 Rust 编写的简易 `grep` 命令行工具，用来在文本文件中查找包含指定关键字的行。核心逻辑位于 `src/lib.rs`，暴露 `Config` 结构体解析命令行参数，并在 `run` 函数中读取文件、执行搜索并输出结果。若输入有误或读取文件失败，会在标准错误打印提示并以非零状态退出。

## 环境需求

- Rust 1.70+（任意稳定版本均可，只要支持 `cargo`）
- Cargo（Rust 工具链自带）

## 快速开始

1. 安装依赖并编译：
   ```bash
   cargo build
   ```
2. 运行示例（以 `intro.txt` 为被搜索文件，查找 `Rust`）：
   ```bash
   cargo run -- Rust intro.txt
   ```

## 使用说明

- 命令格式：`cargo run -- <查询关键字> <文件路径>`
- 程序会读取整个文件内容（UTF-8），按行搜索并打印所有包含关键字的行。
- 错误处理：
  - 关键字或文件路径缺失时会提示缺少参数。
  - 文件不存在或无法读取时会返回 `std::io` 错误并终止。

## 开发与测试

- 核心搜索逻辑由 `search` 函数提供，使用迭代器链过滤匹配行。
- 单元测试位于 `src/lib.rs`，可通过下列命令运行：
  ```bash
  cargo test
  ```
  目前测试覆盖了关键字只匹配一行的场景。
